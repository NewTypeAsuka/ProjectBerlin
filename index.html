<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- 기본 메타 정보 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta author="NewTypeAsuka">
    <meta description="블루아카이브 가챠 시뮬레이터">
    <meta keywords="블루아카이브, 가챠, 시뮬레이터">
    <!-- 소셜 미디어 공유 시 정보 -->
    <meta property="og:title" content="BlueArchive Gacha Simulator">
    <meta property="og:description" content="블루아카이브 가챠 시뮬레이터">
    <meta property="og:image" content="images/common/Logo.png">
    <!-- 카카오톡 브라우저 대응 -->
    <style>
        body.kakao-browser .arona2-wrapper {
            flex-direction: column !important;
            align-items: center !important;
        }
        body.kakao-browser .arona2-image {
            transform: translateX(0) scale(1.1);
            top: -100px;
            position: relative;
        }
    </style>
    <!-- css 및 타이틀 -->
    <link rel="stylesheet" href="style.css">
    <title>⭐블루아카이브 가챠 시뮬레이터⭐</title>
</head>
<body>
    <!-- 브금 on/off -->
    <button id="sound-toggle-btn" class="sound-toggle">🔊</button>
    <!-- 브금 컨트롤 -->
    <audio id="bgm" loop autoplay>
        <source src="sounds/bgm.mp3" type="audio/mpeg">
        브라우저가 오디오를 지원하지 않습니다.
    </audio>
    <!-- 효과음 -->
    <audio id="gacha-sound">
        <source src="sounds/gacha.mp3" type="audio/mpeg" />
    </audio>
    <audio id="pon-sound" preload="auto">
        <source src="sounds/pon.mp3" type="audio/mpeg" />
    </audio>
    <!-- 청휘석 표시 -->
    <div id="pyroxene-used" class="pyroxene-used">사용 💎 0</div>

    <!-- 1. 가챠 인트로 페이지 -->
    <section id="step-one-page" class="screen active">
        <div class="intro-container">
            <img src="images/common/Logo.png" alt="Logo" class="logo-image" />
            <div class="arona-container">
                <img src="images/common/Arona.jpg" alt="Arona" class="arona-image" />
                <div class="speech-bubble" id="arona-message">
                    아로나가 3성을 응원할게요!
                </div>
            </div>
            <h1 class="intro-title">🎯 가챠 방식 선택 🎯</h1>
            <p class="intro-subtitle">아래 버튼 중 하나를 선택하세요</p>
            <div class="gacha-button-group">
                <button id="gacha-common-btn" class="gacha-button">일반 가챠</button>
                <button id="gacha-pick-btn" class="gacha-button">픽업 가챠</button>
                <button id="gacha-fes-btn" class="gacha-button">페스 가챠</button>
            </div>
        </div>
    </section>

    <!-- 2. 아로나 사인 페이지 -->
    <section id="step-two-page" class="screen">
        <div class="sign-container">
            <p class="sign-instruction">✍️ 결재해주세요 ✍️</p>
            <canvas id="signCanvas" class="signCanvas"></canvas>
            <img src="images/common/Arona2.png" alt="Arona2" class="arona-full-image" />
            <div id="fireworks-container" class="fireworks hidden"></div>
        </div>
    </section>

    <!-- 3. 가챠 페이지 -->
    <section id="step-three-page" class="screen">
        <div class="gacha-result-container">
            <div class="card-grid" id="gacha-result-grid">
                <!-- 카드 10개 삽입 지점 -->
            </div>
        </div>
        <div id="touch-guide" class="touch-guide">
            TOUCH!
        </div>
    </section>

    <!-- 4. 캐릭터 소개 페이지 -->
    <section id="step-four-page" class="screen">
        <div class="character-card-container">
            <div id="school-mark-background"></div>
            <img id="character-image" class="character-card" src="" alt="캐릭터">
            <div id="character-info" class="character-info">
                <div class="character-name" id="character-name">캐릭터명</div>
                <div class="character-school" id="character-school">학원명</div>
                <div class="character-stars" id="character-stars">성급</div>
            </div>
        </div>
        <div class="star-container" id="star-drop" style="display: none;">
            <div class="star star1">⭐</div>
            <div class="star star2">⭐</div>
            <div class="star star3">⭐</div>
        </div>
        <div class="fireworks hidden"></div>
    </section>

    <!-- 5. 결과 정리 및 다시 뽑기 페이지 -->
    <section id="step-five-page" class="screen">
        <div class="result-summary">
            <h2>✨ 가챠 결과 요약 ✨</h2>
            <div id="result-table-container"></div>
        </div>
        <div class="result-buttons">
            <button id="retry-button" class="result-button">한번 더 뽑기</button>
            <button id="home-button" class="result-button">처음으로</button>
        </div>
    </section>

    <!-- javascript -->
    <script type="module" src="javascript/main.js"></script>
</body>
</html>